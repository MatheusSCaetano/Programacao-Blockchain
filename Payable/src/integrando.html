<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../node_modules/web3/dist/web3.min.js"></script>
    <title>Document</title>
    <style>
        div {
            display: flex;
            justify-content: center;
            margin: 10px;
        }
    </style>

</head>

<body>
    <div id="conectar">
        <button id="btnConectar" style="display: none;"> Conectar ao MetaMask </button>
    </div>
    
    <div>
        Nome: <input id="inputNome" type="text" />
    </div>
    <div>
        <button id="alterar">Alterar Nome</button>
    </div>
    <div id="nome">&nbsp;</div>

    <script>


        var provider = window.ethereum;

        async function run() {
            if (!provider) {
                document.getElementById('conectar').innerHTML = "Por favor instale o MetaMask";
            }else {
                let contas = await provider.request({ method: 'eth_accounts' });
                if(contas.length == 0){
                    document.getElementById("btnConectar").style.display = 'block';
                    document.getElementById("btnConectar").addEventListener('click', conectarMM)
                }
                
            }
        }
        async function conectarMM(){
            // const web3 = await new Web3(provider);
            let contas = await provider.request({method: 'eth_requestAccounts'});
            document.getElementById('btnConectar')
        }
        
        run();
    </script>

</body>

</html>